# **Gu√≠a Completa de Instalaci√≥n y Configuraci√≥n de PostgreSQL en Windows**  
# **Incluye Configuraci√≥n de Conexi√≥n Remota**  

---

## **üì• 1. Descarga e Instalaci√≥n de PostgreSQL**  

### **1.1. Descargar el instalador**  
1. Visita el sitio oficial: [https://www.postgresql.org/download/windows/](https://www.postgresql.org/download/windows/)  
2. Selecciona la versi√≥n m√°s reciente (ej. PostgreSQL 16).  
3. Elige el instalador para Windows (32-bit o 64-bit seg√∫n tu sistema).  

### **1.2. Ejecutar el instalador**  
1. Haz doble clic en el archivo `.exe` descargado.  
2. Selecciona el idioma y sigue el asistente.  

### **1.3. Configuraci√≥n de la instalaci√≥n**  
- **Directorio de instalaci√≥n**:    
  - Por defecto: `C:\Program Files\PostgreSQL\<versi√≥n>`  
- **Selecci√≥n de componentes**:    
  ‚úÖ PostgreSQL Server    
  ‚úÖ pgAdmin (interfaz gr√°fica)    
  ‚úÖ Command Line Tools (para usar `psql` desde la terminal)    
  ‚úÖ Stack Builder (opcional, para drivers adicionales)    

### **1.4. Configuraci√≥n del servidor**  
- **Puerto**: `5432` (por defecto, no cambiar a menos que sea necesario).  
- **Contrase√±a del superusuario (`postgres`)**:    
  - Establece una contrase√±a segura (ej. `P0stgr3s!2025`).  
- **Locale**:    
  - Puedes dejarlo en `Default locale` o seleccionar tu regi√≥n.  

### **1.5. Finalizar instalaci√≥n**  
- Marca **"Launch Stack Builder"** si necesitas herramientas adicionales.  
- Desmarca si solo quieres PostgreSQL b√°sico.  
- Haz clic en **Finish**.  

---

## **üîå 2. Verificar la instalaci√≥n**  
### **2.1. Usando pgAdmin**  
1. Abre **pgAdmin** desde el men√∫ Inicio.  
2. Expande **Servers** > **PostgreSQL**.  
3. Ingresa la contrase√±a del usuario `postgres`.  
4. Si puedes conectarte, la instalaci√≥n fue exitosa.  

### **2.2. Usando la l√≠nea de comandos (PSQL)**  
1. Abre **CMD** o **PowerShell**.  
2. Ejecuta:  
   ```sh
   psql -U postgres -h localhost

## **üåê 3. Configurar Conexi√≥n Remota**
### 3.1. Modificar pg_hba.conf (Control de Acceso)

1. Ubica el archivo **`pg_hba.conf`** (generalmente en **`C:\Program Files\PostgreSQL\<versi√≥n>\data`**).
2. √Åbrelo con un editor de texto (ej. Notepad++ o VS Code).
3. **`Agrega o modifica`** las siguientes l√≠neas para permitir conexiones remotas:
```
# TYPE  DATABASE        USER            ADDRESS                 METHOD
host    all             all             0.0.0.0/0               md5
host    all             all             ::/0                    md5
```

* `0.0.0.0/0` ‚Üí Permite conexiones desde cualquier IP (IPv4).
* `::/0` ‚Üí Permite conexiones desde cualquier IP (IPv6).
* `md5` ‚Üí Requiere autenticaci√≥n por contrase√±a.

### **3.2. Modificar `postgresql.conf` (Configuraci√≥n del Servidor)**  
1. Ubica el archivo `postgresql.conf` (misma carpeta que `pg_hba.conf`).  
2. Busca y cambia:  
   ```
   listen_addresses = 'localhost'
   ```
   Por:

    ```
    listen_addresses = '*'
    ```
Nota.- Esto permite que PostgreSQL escuche en todas las interfaces de red.

### 3.3. Reiniciar el servicio de PostgreSQL

1. Abre Services.msc (**Win** + **R** ‚Üí **`services.msc`**).
2. Busca PostgreSQL.
3. Haz clic derecho ‚Üí Reiniciar.

## üîë 4. Probar Conexi√≥n Remota
### 4.1. Desde otro equipo (usando psql)
```sh
psql -U postgres -h <IP_DEL_SERVIDOR> -p 5432
```
Ejemplo:

```sh
psql -U postgres -h 192.168.1.100 -p 5432
```

### 4.2. Desde pgAdmin en otro equipo

1. Abre pgAdmin.
2. Clic derecho en Servers ‚Üí Register ‚Üí Server.
3. En Connection, ingresa:
    - Host: IP del servidor PostgreSQL (ej. 192.168.1.100).
    - Port: 5432.
    - Username: postgres.
    - Password: La que configuraste.